### fastjgame项目 网络组件
1. 它是一个完全独立的组件，为模块之间通信提供支持。
2. 它需要独立启动。

#### 常见问题
Q: 断线重连？  
A: 
1. 如果任意会话双方都有断线重连，那这个消耗无疑的巨大的，会极大的拖慢网络速度！由于玩家的网络质量是无法保证的，因此服务器与玩家之间一定要开启消息确认机制，确保不丢包。但是服务器之间网络质量是容易保证的（专线/内网），因此服务器与服务器之间不使用上层的断线重连机制。
2. 既然只有玩家之间需要断线重连机制，那么这里又出现两种选择：
   1. 已发送未确认的消息缓存在**逻辑服(场景服)**。
   2. 已发送未确认的消息缓存在**网关服**。

Q: 那么这两种机制有什么区别呢？  
A:  
1. 如果未确认的消息缓存在逻辑服(场景服)；
    1. 优点：支持玩家切换网关，如果玩家网络出现故障，即使切换网关服，也可以保证不丢包。
    2. 缺点：占用逻辑服的内存，玩家网络质量越差，缓存消息越多，占用内存越多，对服务器稳定性可能有影响。此会导致game-net包复杂度也增加。
2. 如果未确认的消息缓存在网关服：
    1. 优点：消息缓存在网关服，不占用逻辑服内存，不对逻辑服造成影响。可以简化game-net包逻辑。
    2. 缺点：消息缓存在网关服，不支持玩家切换网关，玩家网络故障也必须重连网关服，否则丢包，必须重写登录。

Q: 那我选择什么呢？  
A: 很多时候必须做取舍，我选择将**断线重连机制做在网关服**。为啥呢？  
   1. 我们只需要尽量的支持玩家断线重连/不丢包就可以了，并不是非要做到完完全全的不丢包。我们可以在为玩家分配网关的时候，选择一个最适合玩家的网关，以减少出故障的概率。
   2. 故障隔离，如果网关服出现故障，压力过大，它并不会对逻辑服务器造成影响。
   3. 复杂度问题，如果要支持切换网关服，那么客户端和服务器的复杂度都会增加。

Q: 消息转发？  
A: 要支持消息转发，建立连接时，必须带有逻辑服务器的信息，进行双向映射。